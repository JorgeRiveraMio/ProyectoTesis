@model ProyectoTesis.Models.ViewModels.ResultadoViewModel
@{
    ViewData["Title"] = "Recomendaciones Vocacionales";
}

<div class="max-w-4xl mx-auto">

    <!-- Mensaje de éxito o error -->
    @if (TempData["Mensaje"] != null)
    {
        <div class="p-4 mb-6 text-sm rounded-lg 
                    @(TempData["Mensaje"].ToString().StartsWith("❌") 
                        ? "text-red-700 bg-red-100" 
                        : "text-green-700 bg-green-100")">
            @TempData["Mensaje"]
        </div>
    }

    <div class="text-center mb-10">
        <h1 class="text-4xl font-extrabold text-gray-800 tracking-tight lg:text-5xl">
            Carreras Sugeridas para Ti
        </h1>
        <p class="mt-4 text-lg text-gray-500 max-w-2xl mx-auto">
            Basado en tu perfil <b>@Model.PerfilCombinado</b> hemos identificado estas carreras que podrían ser perfectas para ti.
        </p>
    </div>

    <div class="space-y-6">
        @foreach (var carrera in Model.Carreras)
        {
            <div class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 p-6 flex items-start gap-6">
                <div class="bg-indigo-100 text-indigo-600 flex items-center justify-center rounded-xl shrink-0 size-16">
                    <span class="material-symbols-outlined text-4xl">@carrera.Icono</span>
                </div>
                <div class="flex-1">
                    <h3 class="text-xl font-semibold text-gray-800">@carrera.Nombre</h3>
                    <p class="mt-1 text-gray-600">@carrera.Descripcion</p>
                    <div class="mt-3">
                        <p class="text-sm font-medium text-gray-500">
                            <span class="font-semibold">Universidades de referencia:</span> @string.Join(", ", carrera.Universidades)
                        </p>
                    </div>
                </div>
            </div>
        }
    </div>

    <!-- Botón para enviar resultados -->
    <div class="mt-12 flex justify-center bg-gray-50 py-6 rounded-lg">
        <a asp-action="Enviar"
           asp-controller="Test"
           asp-route-resultadoId="@Model.IDD_RESULTADO"
           class="flex items-center gap-2 px-6 py-3 rounded-lg bg-blue-600 
                  hover:bg-blue-700 text-white font-bold text-lg transition-colors shadow-lg">
            <span class="material-symbols-outlined">email</span>
            <span>Guardar resultados con email</span>
        </a>
    </div>
</div>
